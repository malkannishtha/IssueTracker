<md-dialog aria-label="Add Project">
	<md-dialog-content>
		<div class="bg-white" style="width: 900px; height: 500px">
			<div class="w-full bg-darkest text-light font-bold text-3xl p-5 relative">
				Add Project
				<span class="absolute right-5 font-light cursor-pointer" ng-click="cancel()">
					<i class="fa-regular fa-circle-xmark"></i>
				</span>
			</div>
			<div class="p-5 w-full">
				<input
					ng-model="title"
					type="text"
					name=""
					placeholder="Title"
					class="mt-2 font-semibold focus:ring-2 focus:ring-dark rounded-lg w-full bg-light text-darkest focus:border-0"
				/>
				<textarea
					ng-model="description"
					type="text"
					name=""
					placeholder="Description"
					class="mt-2 font-semibold focus:ring-2 focus:ring-dark rounded-lg w-full bg-light text-darkest focus:border-0"
				></textarea>

				<div class="relative">
					<input
						type="text"
						class="mt-2 font-semibold focus:ring-2 focus:ring-dark rounded-lg w-full bg-light text-darkest focus:border-0"
						ng-model="member"
						placeholder="Add Member"
						ng-change="onMemberChange()"
					/>
					<div
						class="absolute top-full bg-white w-full max-h-40 overflow-y-auto pb-3 border border-primary rounded-lg z-20"
						ng-if="member"
					>
						<div
							class="text-darkest hover:bg-primary p-1 cursor-pointer border-b border-b-primary"
							ng-click="selectMember(user)"
							ng-repeat="user in users"
						>
							{{user.username}}
						</div>
					</div>
				</div>

				<div class="mt-2">
					<table
						style="min-width: fit-content"
						class="table-auto w-full border-collapse border border-primary"
					>
						<thead>
							<tr class="bg-darkest text-light">
								<th class="border border-primary p-1 select-none" ng-repeat="item in fields">
									{{item.header}}
								</th>
								<th class="border border-primary p-1 select-none">Action</th>
							</tr>
						</thead>
						<tbody ng-if="!loading && members.length > 0">
							<tr ng-repeat="member in members">
								<td class="border border-primary p-1">{{member.index}}</td>
								<td class="border border-primary p-1">{{member.username}}</td>
								<td class="border border-primary p-1 text-center">
									<span class="text-red-600 cursor-pointer" ng-click="removeMember(member.index)">
										<i class="fa-solid fa-trash"></i>
									</span>
								</td>
							</tr>
						</tbody>
						<tbody ng-if="members.length == 0">
							<tr class="h-20">
								<td colspan="4" class="border border-primary">
									<div
										class="w-full h-full flex items-center justify-center text-xl text-red-500 font-bold"
									>
										NO MEMBERS ADDED!!
									</div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>

				<div class="text-center text-red-600 mt-2 text-lg" ng-if="errorMsg">{{errorMsg}}</div>

				<div class="mt-3 border-t border-primary text-end py-3">
					<custom-button
						name="Save"
						class="bg-primary text-textdark w-full rounded-lg"
						loading="addLoading"
						on-click="addProject()"
					>
					</custom-button>
				</div>
			</div>
		</div>
	</md-dialog-content>
</md-dialog>
